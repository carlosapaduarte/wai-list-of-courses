<article class="offer" id="{{ offer.id }}">
  <h3>
    {% if offer.website %}
      <a href="{{ offer.website }}" rel="external">{{ offer.name }}</a>
    {% else %}
      {{ offer.name }}
    {% endif %}
     <span>by {{ offer.vendor }}</span> <a href="#" class="tag">{{ offer.type_of_offer }}</a>
  </h3>
  <p>{{ offer.description }}</p>
  <details>
    <summary><h4>Details<span class="visuallyhidden"> for {{ offer.name }}</span></h4></summary>
    <div class="offer__features" data-do-tabs>
      <div class="offer__tabs">
        <a href="#{{ offer.id }}-supported" data-tab>Supported</a>
        <a href="#{{ offer.id }}-not-supported" data-tab>Not Supported</a>
        <a href="#{{ offer.id }}-meta" data-tab>About this offer</a>
      </div>
      <div class="offer_tabpanels">
        <div id="{{ offer.id }}-supported" tabindex="-1" data-tabpanel>
          <dl>
            {% if offer.conforms_to.a %}
            <dt class="offer__features-a11y">Content Editor Features (editing experience)
              <a href="selecting#editing-experience-for-content-editors" class="more-info">
                <span class="visuallyhidden">All features for content editors explained</span>
                <span aria-hidden="true" class="more-info__icon">
                 {% include icons/info.svg %}
                </span>
              </a>
            </dt>
            <dd class="offer__features-a11y">
              <ul>
                {% for feature in offer.conforms_to.a %}
                {% case feature %}
                {% when 'Works with keyboard' %}
                <li><strong>{{ feature }} (partly)</strong><br>
                Vendor comment: <em>“Should mostly work, except for the video editor, we plan to release that in version 3.”</em></li> 
                {% when 'Enough time' %}
                <li><strong>{{ feature }} (partly)</strong><br>
                Vendor comment: <em>“Our CMS works with the Slovenian e-government login which has a time limit of 15 minutes that we can legally not circumvent.”</em></li> 
                {% when 'Text alternatives can be managed' %}
                <li><strong>{{ feature }} (partly)</strong><br>
                Vendor comment: <em>“Alternatives can be managed for images, but not for videos.”</em></li> 
                {% when '(Accessibility) features documented' %}
                <li><strong>{{ feature }} (partly)</strong><br>
                Vendor comment: <em>“We are working to document all accessibility features and currently have done about 65% of them. Full support planned for 2023.”</em></li> 
                {% else %}
                <li><strong>{{ feature }}</strong></li>
                {% endcase %}
                {% endfor %}
              </ul>
            </dd>
            {% endif %}
            {% if offer.conforms_to.b %}
            <dt class="offer__features-a11y">End User Features (output)
              <a href="selecting#output" class="more-info">
                <span class="visuallyhidden">All features for end users explained</span>
                <span aria-hidden="true" class="more-info__icon">
                 {% include icons/info.svg %}
                </span>
              </a>
            </dt>
            <dd class="offer__features-a11y">
              <ul>
                {% for feature in offer.conforms_to.b %}
                <li><strong>{{ feature }}</strong></li>
                {% endfor %}
              </ul>
            </dd>
            {% endif %}
          </dl>
        </div>
        <div id="{{ offer.id }}-not-supported" tabindex="-1" data-tabpanel hidden>
          <dl>
            <dt class="offer__features-a11y">End User (output)
              <a href="selecting#output" class="more-info">
                <span class="visuallyhidden">All features for end users explained</span>
                <span aria-hidden="true" class="more-info__icon">
                 {% include icons/info.svg %}
                </span>
              </a>
            </dt>
            <dd class="offer__features-a11y">
              <ul>
                <li>Helps user prevent mistakes</li>
                <li>Previews are accessible</li>
                <li>Content can be navigated by structure</li>
              </ul>
            </dd>
          </dl>
        </div>
        <div id="{{ offer.id }}-meta" tabindex="-1" data-tabpanel hidden>
          <dl>
          <dt>License</dt>
          <dd>{{ offer.license }}</dd>
          <dt>Type of offer</dt>
          <dd>{{ offer.type_of_offer }}</dd>
          <dt>Cost model</dt>
          <dd>{{ offer.cost }}</dd>
          <dt>Version</dt>
          <dd>{{ offer.version }} (released: {{ offer.date_released }})</dd>
          <dt>Accessibility statement</dt>
          <dd>
            {% if offer.accessibility_statement %} 
            <a href="{{ offer.accessibility_statement }}">{{ offer.name }} statement</a>
            {% else %}
              Not available
            {% endif %}
          </dd>
          </dl>
        </div>
    </div>
  </div>
  </details>
</article>
